model small
.stack 100h

.data
msg1 db 10,13,'Enter first number: $'
msg2 db 10,13,'Enter second number: $'
msg3 db 10,13,'Choose operation:',10,13,'1. Addition',10,13,'2. Subtraction',10,13,'3. Multiplication',10,13,'4. Division',10,13,'Choice: $'
msg4 db 10,13,'Result: $'
msg5 db 10,13,'Invalid choice!$'
newline db 10,13,'$'

num1 dw ?
num2 dw ?
result dw ?

.code
main proc
    mov ax, @data
    mov ds, ax

    ; Input first number
    mov dx, offset msg1
    mov ah, 9
    int 21h
    call read_number
    mov num1, ax

    ; Input second number
    mov dx, offset msg2
    mov ah, 9
    int 21h
    call read_number
    mov num2, ax

    ; Print menu
    mov dx, offset msg3
    mov ah, 9
    int 21h

    ; Read choice
    mov ah, 1
    int 21h
    sub al, '0'

    cmp al, 1
    je add_op
    cmp al, 2
    je sub_op
    cmp al, 3
    je mul_op
    cmp al, 4
    je div_op
    jmp invalid

add_op:
    mov ax, num1
    add ax, num2
    mov result, ax
    jmp show_result

sub_op:
    mov ax, num1
    sub ax, num2
    mov result, ax
    jmp show_result

mul_op:
    mov ax, num1
    mov bx, num2
    mul bx
    mov result, ax
    jmp show_result

div_op:
    mov ax, num1
    mov bx, num2
    div bx
    mov result, ax
    jmp show_result

invalid:
    mov dx, offset msg5
    mov ah, 9
    int 21h
    jmp exit

show_result:
    mov dx, offset msg4
    mov ah, 9
    int 21h

    mov ax, result
    call print_number

exit:
    mov ah, 4Ch
    int 21h
main endp



